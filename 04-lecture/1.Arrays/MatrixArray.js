"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MatrixArray = void 0;
class MatrixArray {
    constructor() {
        this.size = 0;
        this.amount = 5;
        this.box = [[]];
    }
    get isEmpty() {
        return this.size === 0;
    }
    indexesOf(i) {
        return [~~(i / this.amount), i % this.amount];
    }
    add(item, index = this.size) {
        if (this.size === this.box.length * this.amount) {
            this.box.push(new Array(this.amount));
        }
        let i = index;
        let [j, k] = this.indexesOf(i);
        let tmp = this.box[j][k];
        this.box[j][k] = item;
        for (i++; i < this.size + 1; i++) {
            [j, k] = this.indexesOf(i);
            [tmp, this.box[j][k]] = [this.box[j][k], tmp];
        }
        this.size++;
    }
    remove(index) {
        let [j1, k1] = this.indexesOf(index);
        let item = this.box[j1][k1];
        for (let i = index; i < this.size - 1; i++) {
            let [j2, k2] = this.indexesOf(i + 1);
            this.box[j1][k1] = this.box[j2][k2];
            [j1, k1] = [j2, k2];
        }
        this.size--;
        return item;
    }
    toString() {
        let out = [];
        for (let i = 0; i < this.size; i++) {
            let [j, k] = this.indexesOf(i);
            out.push(this.box[j][k]);
        }
        return out.join(",");
    }
}
exports.MatrixArray = MatrixArray;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWF0cml4QXJyYXkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJNYXRyaXhBcnJheS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQSxNQUFhLFdBQVc7SUFNdEI7UUFDRSxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztRQUNkLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNsQixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLENBQUM7SUFDekIsQ0FBQztJQUVNLFNBQVMsQ0FBQyxDQUFTO1FBQ3hCLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDaEQsQ0FBQztJQUVNLEdBQUcsQ0FBQyxJQUFPLEVBQUUsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJO1FBQ25DLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQy9DLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1NBQ3ZDO1FBQ0QsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO1FBQ2QsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9CLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFekIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7UUFFdEIsS0FBSyxDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDaEMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMzQixDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQy9DO1FBQ0QsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUVNLE1BQU0sQ0FBQyxLQUFhO1FBQ3pCLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRTVCLEtBQUssSUFBSSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUMxQyxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBRXJDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNwQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztTQUNyQjtRQUNELElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNaLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVNLFFBQVE7UUFDYixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7UUFFYixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNsQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0IsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FDekI7UUFDRCxPQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdkIsQ0FBQztDQUNGO0FBNURELGtDQTREQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElBcnJheSB9IGZyb20gXCIuL0lBcnJheVwiO1xuXG5leHBvcnQgY2xhc3MgTWF0cml4QXJyYXk8VD4ge1xuICBwcml2YXRlIGJveDogQXJyYXk8QXJyYXk8VD4+O1xuICAvKiog0JrQvtC70LjRh9C10YHRgtCy0L4g0Y3Qu9C10LzQtdC90YLQvtCyINCyINC+0LTQvdC+0Lwg0L/QvtC0INC80LDRgdGB0LjQstC1ICovXG4gIHByaXZhdGUgYW1vdW50OiBudW1iZXI7XG4gIHB1YmxpYyBzaXplOiBudW1iZXI7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgdGhpcy5hbW91bnQgPSA1O1xuICAgIHRoaXMuYm94ID0gW1tdXTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgaXNFbXB0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5zaXplID09PSAwO1xuICB9XG5cbiAgcHVibGljIGluZGV4ZXNPZihpOiBudW1iZXIpIHtcbiAgICByZXR1cm4gW35+KGkgLyB0aGlzLmFtb3VudCksIGkgJSB0aGlzLmFtb3VudF07XG4gIH1cblxuICBwdWJsaWMgYWRkKGl0ZW06IFQsIGluZGV4ID0gdGhpcy5zaXplKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gdGhpcy5ib3gubGVuZ3RoICogdGhpcy5hbW91bnQpIHtcbiAgICAgIHRoaXMuYm94LnB1c2gobmV3IEFycmF5KHRoaXMuYW1vdW50KSk7XG4gICAgfVxuICAgIGxldCBpID0gaW5kZXg7XG4gICAgbGV0IFtqLCBrXSA9IHRoaXMuaW5kZXhlc09mKGkpO1xuICAgIGxldCB0bXAgPSB0aGlzLmJveFtqXVtrXTtcblxuICAgIHRoaXMuYm94W2pdW2tdID0gaXRlbTtcblxuICAgIGZvciAoaSsrOyBpIDwgdGhpcy5zaXplICsgMTsgaSsrKSB7XG4gICAgICBbaiwga10gPSB0aGlzLmluZGV4ZXNPZihpKTtcbiAgICAgIFt0bXAsIHRoaXMuYm94W2pdW2tdXSA9IFt0aGlzLmJveFtqXVtrXSwgdG1wXTtcbiAgICB9XG4gICAgdGhpcy5zaXplKys7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlKGluZGV4OiBudW1iZXIpOiBUIHtcbiAgICBsZXQgW2oxLCBrMV0gPSB0aGlzLmluZGV4ZXNPZihpbmRleCk7XG4gICAgbGV0IGl0ZW0gPSB0aGlzLmJveFtqMV1bazFdO1xuXG4gICAgZm9yIChsZXQgaSA9IGluZGV4OyBpIDwgdGhpcy5zaXplIC0gMTsgaSsrKSB7XG4gICAgICBsZXQgW2oyLCBrMl0gPSB0aGlzLmluZGV4ZXNPZihpICsgMSk7XG5cbiAgICAgIHRoaXMuYm94W2oxXVtrMV0gPSB0aGlzLmJveFtqMl1bazJdO1xuICAgICAgW2oxLCBrMV0gPSBbajIsIGsyXTtcbiAgICB9XG4gICAgdGhpcy5zaXplLS07XG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cblxuICBwdWJsaWMgdG9TdHJpbmcoKSB7XG4gICAgbGV0IG91dCA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNpemU7IGkrKykge1xuICAgICAgbGV0IFtqLCBrXSA9IHRoaXMuaW5kZXhlc09mKGkpO1xuICAgICAgb3V0LnB1c2godGhpcy5ib3hbal1ba10pXG4gICAgfVxuICAgIHJldHVybiBvdXQuam9pbihcIixcIik7XG4gIH1cbn1cbiJdfQ==