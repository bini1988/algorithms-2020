"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SingleArray = void 0;
class SingleArray {
    constructor() {
        this.arr = new Array(0);
    }
    get size() {
        return this.arr.length;
    }
    get isEmpty() {
        return this.size === 0;
    }
    add(item, index = this.size) {
        let position = Math.min(index, this.size);
        let target = new Array(this.size + 1);
        let i = 0;
        while (i < position) {
            target[i] = this.arr[i++];
        }
        target[i++] = item;
        for (; i < this.size + 1; i++) {
            target[i] = this.arr[i - 1];
        }
        this.arr = target;
    }
    remove(index) {
        let position = Math.min(index, this.size);
        let target = new Array(this.size - 1);
        let item = this.arr[index];
        let i = 0;
        for (; i < position; i++) {
            target[i] = this.arr[i];
        }
        for (; i < this.size - 1; i++) {
            target[i] = this.arr[i + 1];
        }
        this.arr = target;
        return item;
    }
    toString() {
        return this.arr.slice(0, this.size).join(",");
    }
}
exports.SingleArray = SingleArray;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2luZ2xlQXJyYXkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJTaW5nbGVBcnJheS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSxNQUFhLFdBQVc7SUFBeEI7UUFDVSxRQUFHLEdBQVEsSUFBSSxLQUFLLENBQUksQ0FBQyxDQUFDLENBQUM7SUErQ3JDLENBQUM7SUE3Q0MsSUFBVyxJQUFJO1FBQ2IsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztJQUN6QixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLENBQUM7SUFDekIsQ0FBQztJQUVNLEdBQUcsQ0FBQyxJQUFPLEVBQUUsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJO1FBQ25DLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMxQyxJQUFJLE1BQU0sR0FBRyxJQUFJLEtBQUssQ0FBSSxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVWLE9BQU8sQ0FBQyxHQUFHLFFBQVEsRUFBRTtZQUNuQixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQzNCO1FBRUQsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBRW5CLE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzdCLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQTtTQUM1QjtRQUNELElBQUksQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFDO0lBQ3BCLENBQUM7SUFFTSxNQUFNLENBQUMsS0FBYTtRQUN6QixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUMsSUFBSSxNQUFNLEdBQUcsSUFBSSxLQUFLLENBQUksSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6QyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVWLE9BQU8sQ0FBQyxHQUFHLFFBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN4QixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN6QjtRQUNELE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzdCLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUM3QjtRQUNELElBQUksQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFDO1FBRWxCLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVNLFFBQVE7UUFDYixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2hELENBQUM7Q0FDRjtBQWhERCxrQ0FnREMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCBjbGFzcyBTaW5nbGVBcnJheTxUPiB7XG4gIHByaXZhdGUgYXJyOiBUW10gPSBuZXcgQXJyYXk8VD4oMCk7XG5cbiAgcHVibGljIGdldCBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLmFyci5sZW5ndGg7XG4gIH1cblxuICBwdWJsaWMgZ2V0IGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2l6ZSA9PT0gMDtcbiAgfVxuXG4gIHB1YmxpYyBhZGQoaXRlbTogVCwgaW5kZXggPSB0aGlzLnNpemUpOiB2b2lkIHtcbiAgICBsZXQgcG9zaXRpb24gPSBNYXRoLm1pbihpbmRleCwgdGhpcy5zaXplKTtcbiAgICBsZXQgdGFyZ2V0ID0gbmV3IEFycmF5PFQ+KHRoaXMuc2l6ZSArIDEpO1xuICAgIGxldCBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgcG9zaXRpb24pIHtcbiAgICAgIHRhcmdldFtpXSA9IHRoaXMuYXJyW2krK107XG4gICAgfVxuXG4gICAgdGFyZ2V0W2krK10gPSBpdGVtO1xuXG4gICAgZm9yICg7IGkgPCB0aGlzLnNpemUgKyAxOyBpKyspIHtcbiAgICAgIHRhcmdldFtpXSA9IHRoaXMuYXJyW2kgLSAxXVxuICAgIH1cbiAgICB0aGlzLmFyciA9IHRhcmdldDtcbiAgfVxuXG4gIHB1YmxpYyByZW1vdmUoaW5kZXg6IG51bWJlcik6IFQge1xuICAgIGxldCBwb3NpdGlvbiA9IE1hdGgubWluKGluZGV4LCB0aGlzLnNpemUpO1xuICAgIGxldCB0YXJnZXQgPSBuZXcgQXJyYXk8VD4odGhpcy5zaXplIC0gMSk7XG4gICAgbGV0IGl0ZW0gPSB0aGlzLmFycltpbmRleF07XG4gICAgbGV0IGkgPSAwO1xuXG4gICAgZm9yICg7IGkgPCBwb3NpdGlvbjsgaSsrKSB7XG4gICAgICB0YXJnZXRbaV0gPSB0aGlzLmFycltpXTtcbiAgICB9XG4gICAgZm9yICg7IGkgPCB0aGlzLnNpemUgLSAxOyBpKyspIHtcbiAgICAgIHRhcmdldFtpXSA9IHRoaXMuYXJyW2kgKyAxXTtcbiAgICB9XG4gICAgdGhpcy5hcnIgPSB0YXJnZXQ7XG5cbiAgICByZXR1cm4gaXRlbTtcbiAgfVxuXG4gIHB1YmxpYyB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5hcnIuc2xpY2UoMCwgdGhpcy5zaXplKS5qb2luKFwiLFwiKTtcbiAgfVxufVxuIl19